Supybook
========
Heikki Hokkanen <hoxu@users.sf.net>

== Preface ==

=== Conventions used in this document ===

`command <name> [value]`::
	A command that takes `name` as a required parameter and `value` as an optional parameter.

[green]#Plugin#::
	A plugin name

== Getting started ==

=== Identifying to the bot ===

After running supybot-wizard and starting the bot, connect to the same IRC network it is on, and /query it. You can identify with the `identify <name> <password>` command. You can check the bot's idea of who you are with the `whoami` command.

== Administrative tasks ==

=== Networks ===

Related plugins: [green]#Network, Services#.

==== Adding a network ====

`network connect <network> [<host[:port]>]` ?

==== Reconnecting ====

`reconnect [network] [quit message]`.

==== Disconnecting ====

`network disconnect [network] [message]`

==== Listing networks ====

`networks`

.output
----
freenode: wolfe.freenode.net and ircnet: irc.elisa.fi
----

==== Adding more servers ====

Once you've added a network with the initial server, you can add more servers:

`config networks.<network>.servers [config networks.<network>.servers] server:6667`

==== Listing network servers ====

`config networks.<network>.servers`

.output
----
chat.freenode.net:6667
----

==== Services: NickServ ====

`services password <nick> [password]` can be used to set or remove NickServ password. `services identify` identifies the bot to NickServ with the current nick. You don't need to give this command after the bot has been set up; it will identify when connecting to the network automatically.

==== Deleting a network ====

TODO

=== Channels ===

Related plugins: [green]#Channel#.

NOTE: Commands in this section (such as adding/removing channels) work in the current network, eg. the one you are messaging the bot in. The commands also accept a `[channel]` parameter which is needed only when the command is written in private.

NOTE: If you want to /msg the bot in one network, while having the command apply in another network, you can use the `network command <network> <command> [params]` command. The reply comes in the other network though (TODO: confirm).

==== Adding a new channel ====

A new channel is added by messaging the bot in the same network with `join <channel> [key]` command.

==== Listing channels ====

`channels`

NOTE: This only works in private, to prevent knowledge of top secret channels from falling to wrong hands.

You can list channels in another network with `config networks.<network>.channels`.

==== Removing a channel ====

`part [channel] [reason]`

==== Modifying channel config ====

`config channel [channel] <name> <value>`

==== Setting the key ====

`channel key [channel] [key]` can be used to set or clear the channel key.

==== Setting the limit ====

`channel limit [channel] [limit]` sets or clears the channel limit.

==== Channel commands ====

TODO: kban, op, voice, alert, cycle, etc.

`channel moderate [channel]` - set +m

`channel unmoderate [channel]` - set -m

`channel mode [channel] <mode> [params]` - set channel mode

`topic lock [channel]` - +t

`topic unlock [channel]` - -t

==== Maintaining the ban list ====

`channel ban add [channel] <nick|hostmask> [expires]`

`channel ban list [channel]`

`channel ban remove [channel] <hostmask>`

NOTE: Users matching the ban list are not automatically kicked off the channel. See the `kban` command to kick and ban a user. (TODO: check)

==== Maintaining the ignore list ====

`channel ignore add [channel] <nick|hostmask> [expires]`

`channel ignore list [channel]`

`channel ignore remove [channel] <hostmask>`

NOTE: There is also a global ignore list.

==== Enforcing channel modes ====

TODO: Is there a plugin for this?

==== Listing channel nicks ====

`channel nicks [channel]`

==== Topic operations ====

Related plugins: [green]#Topic#.

Supybot allows elaborate manipulation of the channel topic.

http://supybot.com/documentation/plugins/topic

==== Logs ====

Logging of channels is provided by the [green]#ChannelLogger# plugin. Various channel-specific configuration items are provided, see `config list plugins.ChannelLogger`.

By default logs will go into logs/ChannelLogger/<network>/<channel>/<channel>.log and will be rotated when the default "%d-%a-%Y" (eg. 06-Sat-2008) timestamp rotates.

==== Auto-ops & voices ====

Auto-opping is provided by the [green]#AutoMode# plugin.

=== Users ===

Related plugins: [green]#Users#.

Supybot users are global: they are visible across networks. This means the same username/password and hostmasks will work in all networks the bot is on.

Users are recognized either by matching hostmasks, or after manually identifying to the bot. In secure mode, the user must both match a hostmask and identify to the bot (`uset set secure [password] <True|False>`).

NOTE: If users knowing each others' nicks is an issue, they could come up with different aliases when registering to the bot. The bot username does not have to match the nick of the user.

==== Adding a new user ====

`user register <name> <password>`

==== Manipulating hostmasks ====

`user hostmask add` - add your current hostmask. Obviously this makes only sense after identify.

`user hostmask add [name] [hostmask] [password]` - add hostmask for another user. If not owner, password must be given.

`user hostmask remove <name> <hostmask> [password]`

NOTE: There is no way to add network-specific hostmasks (TODO: confirm).

==== Listing users ====

`user list [glob]` - list registered users. Note that the list of users is global across networks.

==== Deleting users ====

`user unregister <name> [password]`

==== Changing password ====

`user set password <user> <old password> <new password>`.

==== Renaming a user ====

`user changename <name> <new name> [password]`

Users can change their name themselves.

==== Manipulating user capabilities ====

TODO

=== General bot maintenance ===

Related plugins: [green]#Admin, Config#.

==== Setting nickname & alternative nick ====

`admin nick <newnick>`

`config nick`

`config nick.alternates` - space-separated list of alternate nicks, %s refers to nick.

TODO: different nick in different networks?

==== Setting ident ====

`config ident <newident>`

==== Setting ircname/realname ====

TODO: The default ircname of the bot is "Supybot <version>". I'm not aware of any way to change this.

==== Setting command prefix / controlling when the bot replies ====

TODO: config search nick & config search prefix contain related stuff.

==== Listing and searching settings ====

`config search <word>` - list config items containing word.

`config <name>` - show config value for name.

`config <name> <value>` - set config value for name.

=== Owner commands ===

`owner announce <text>` - send `text` to all channels the bot is on.

`owner ircquote <raw>` - send `raw` as-is to the server. You need to know your way around http://www.faqs.org/rfcs/rfc1459.html[RFC1459] pretty well to use this.
