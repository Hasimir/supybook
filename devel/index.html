<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.5.2" />
<title>Supybook</title>
<style type="text/css">
/* Debug borders */
p, li, dt, dd, div, pre, h1, h2, h3, h4, h5, h6 {
/*
  border: 1px solid red;
*/
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

tt {
  color: navy;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  font-family: sans-serif;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}

div.sectionbody {
  font-family: serif;
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}

pre {
  padding: 0;
  margin: 0;
}

span#author {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  font-size: 1.1em;
}
span#email {
}
span#revnumber, span#revdate, span#revremark {
  font-family: sans-serif;
}

div#footer {
  font-family: sans-serif;
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
div#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
div#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

div#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.tableblock, div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid silver;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid silver;
  background: #f4f4f4;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #dddddd;
  color: #777777;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > div.content {
  white-space: pre;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-family: sans-serif;
  font-weight: bold;
}
tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}


@media print {
  div#footer-badges { display: none; }
}

div#toc {
  margin-bottom: 2.5em;
}

div#toctitle {
  color: #527bbd;
  font-family: sans-serif;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}
/* Workarounds for IE6's broken and incomplete CSS2. */

div.sidebar-content {
  background: #ffffee;
  border: 1px solid silver;
  padding: 0.5em;
}
div.sidebar-title, div.image-title {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  margin-top: 0.0em;
  margin-bottom: 0.5em;
}

div.listingblock div.content {
  border: 1px solid silver;
  background: #f4f4f4;
  padding: 0.5em;
}

div.quoteblock-attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock-content {
  white-space: pre;
}
div.verseblock-attribution {
  padding-top: 0.75em;
  text-align: left;
}

div.exampleblock-content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

/* IE6 sets dynamically generated links as visited. */
div#toc a:visited { color: blue; }
</style>
<script type="text/javascript">
/*<![CDATA[*/
window.onload = function(){asciidoc.footnotes(); asciidoc.toc(3);}
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([2-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  var cont = document.getElementById("content");
  var noteholder = document.getElementById("footnotes");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      // Use [\s\S] in place of . so multi-line matches work.
      // Because JavaScript has no s (dotall) regex flag.
      note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      spans[i].innerHTML =
        "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
        "' title='View footnote' class='footnote'>" + n + "</a>]";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
}

}
/*]]>*/
</script>
</head>
<body>
<div id="header">
<h1>Supybook</h1>
<span id="author">Heikki Hokkanen</span><br />
<span id="email"><tt>&lt;<a href="mailto:hoxu@users.sf.net">hoxu@users.sf.net</a>&gt;</tt></span><br />
<span id="revnumber">version v0.0.4-9-g3fac5ac+dirty,</span>
<span id="revdate">2012-11-17</span>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-3867765-6']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>v0.0.4-9-g3fac5ac+dirty</p></div>
</div>
</div>
<h2 id="_preface">1. Preface</h2>
<div class="sectionbody">
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">At the time of this writing, Supybot version is 0.83.3. If you are using a newer (or even older) version, keep that in mind.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">This document is very much a work in process. It covers nowhere near everything there is to Supybot. However, it hopefully allows a good start into learning Supybot.</td>
</tr></table>
</div>
<h3 id="_what_is_this_document">1.1. What is this document?</h3><div style="clear:left"></div>
<div class="paragraph"><p>This document is a handbook for <a href="http://supybot.com/">Supybot</a>, the IRC (<a href="http://en.wikipedia.org/wiki/Internet_Relay_Chat">Internet Relay Chat</a>) bot written in Python.</p></div>
<h3 id="_motivation_behind_this_document">1.2. Motivation behind this document</h3><div style="clear:left"></div>
<div class="paragraph"><p>Some time ago I started needing an IRC bot for various purposes. The bot would have to be able to take care of auto-opping and similar "traditional" channel duties. This made me think of <a href="http://oer.equnet.org/">Oer</a>, an old but very nice bot. However, I also wanted to have factoid functionality similar to <a href="http://blootbot.sourceforge.net/">blootbot</a>/<a href="http://infobot.org/">infobot</a>, without having to run multiple bots. That was when I arrived at Supybot once again. This time I decided to give it a closer look.</p></div>
<div class="paragraph"><p>My experience of the documentation was lacking though. I longed for something similar to <a href="http://oer.equnet.org/um.php">Oer&#8217;s User Manual</a> that provides a quick references for basic administrator tasks and so forth. Alas, I could not find such document.</p></div>
<div class="paragraph"><p>I figured I could as well wrap up such a handbook while learning to use the bot myself. Hopefully someone finds reading this document as useful as writing it was.</p></div>
<h3 id="_conventions_used_in_this_document">1.3. Conventions used in this document</h3><div style="clear:left"></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>command &lt;name&gt; [value]</tt>
</dt>
<dd>
<p>
        A command that takes <tt>name</tt> as a required parameter and <tt>value</tt> as an optional parameter.
</p>
</dd>
<dt class="hdlist1">
<tt>command &lt;nick...&gt;</tt>
</dt>
<dd>
<p>
        A command that takes one or more parameters.
</p>
</dd>
<dt class="hdlist1">
<tt>command [--{foo,bar}] &lt;value&gt;</tt>
</dt>
<dd>
<p>
        A command that takes two optional options as parameters, eg. <tt>--foo value</tt> and/or <tt>--bar value</tt>.
</p>
</dd>
<dt class="hdlist1">
<span style="color:green;">Plugin</span>
</dt>
<dd>
<p>
        A plugin name
</p>
</dd>
</dl></div>
<h3 id="_this_document_is_free">1.4. This document is Free</h3><div style="clear:left"></div>
<div class="paragraph"><p>This document is Free &#8482; as defined by the <a href="http://www.fsf.org/">Free Software Foundation</a>, more specifically, this document is available under the terms of <a href="http://www.gnu.org/licenses/gpl-3.0.txt">GNU General Public License version 3 (GPLv3)</a>. The source is a text file that can be converted to various formats by <a href="http://www.methods.co.nz/asciidoc/">asciidoc</a>.</p></div>
<h3 id="_how_to_give_feedback">1.5. How to give feedback</h3><div style="clear:left"></div>
<div class="paragraph"><p>If you spot an error, have suggestions or just want to tell me how much you love/hate the document, send e-mail to <a href="mailto:hoxu@users.sf.net">hoxu@users.sf.net</a>. Prefix the Subject with <tt>[supybook]</tt>.</p></div>
</div>
<h2 id="_getting_started">2. Getting started</h2>
<div class="sectionbody">
<h3 id="_initial_configuration">2.1. Initial configuration</h3><div style="clear:left"></div>
<div class="paragraph"><p>Create a new directory (eg. <tt>mkdir ~/supybot</tt>) and run <tt>supybot-wizard</tt> in it. Follow the directions to get the bot initially configured.</p></div>
<div class="paragraph"><p>Once you are ready with the wizard, I suggest you start the bot inside screen:</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>$ screen
$ supybot configFile</tt></pre>
</div></div>
<div class="paragraph"><p>This way you can attach to the screen later to see the messages it writes to stdout, while still running the bot in the background. Alternative is to run it in the daemon mode, <tt>supybot --daemon configFile</tt>.</p></div>
<div class="paragraph"><p>You can set up a crontab to start the bot automatically, for example:</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>$ crontab -e
&gt; @reboot screen -d -m supybot /path/to/configFile</tt></pre>
</div></div>
<h3 id="_identifying_to_the_bot">2.2. Identifying to the bot</h3><div style="clear:left"></div>
<div class="paragraph"><p>After running supybot-wizard and starting the bot, connect to the same IRC network it is on, and /query it. You can identify with the <tt>identify &lt;name&gt; &lt;password&gt;</tt> command. You can check the bot&#8217;s idea of who you are with the <tt>whoami</tt> command.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">All commands that contain a <tt>password</tt> must be sent to the bot in private.</td>
</tr></table>
</div>
<h3 id="_accessing_the_online_help">2.3. Accessing the online help</h3><div style="clear:left"></div>
<div class="paragraph"><p>Most commands on the bot have a short online help available. You can use <tt>list</tt> to list loaded plugins, and <tt>list &lt;plugin&gt;</tt> to list commands in those plugins. <tt>help [plugin] &lt;command&gt;</tt> can be used to access the command help. Use <tt>more</tt> to read long messages from the bot.</p></div>
<div class="paragraph"><p>Help for configuration items can be accessed with the <tt>config help &lt;key&gt;</tt> command.</p></div>
</div>
<h2 id="_understanding_supybot_8217_s_peculiarities">3. Understanding supybot&#8217;s peculiarities</h2>
<div class="sectionbody">
<div class="paragraph"><p>Supybot has a couple of features that sets it apart from more traditional bots. More specifically, nested commands, plugin framework (even the basic functionality is implemented using plugins), and capabilities. This section covers some basic information about Supybot. Feel free to skip it, but come back later if you run into something you don&#8217;t understand.</p></div>
<h3 id="_nested_commands">3.1. Nested commands</h3><div style="clear:left"></div>
<div class="paragraph"><p>Supybot allows nested commands, in other words, you can pass the result of a command to another command as a parameter. What does this allow then, though, apart from the obvious bragging rights? For example, if you want to restore a configuration entry to the default value, you can type:</p></div>
<div class="paragraph"><p><tt>config reply.withNickPrefix [config default reply.withNickPrefix]</tt></p></div>
<div class="paragraph"><p>Obviously, that wasn&#8217;t very neat. They could&#8217;ve included a <tt>config reset &lt;key&gt;</tt> command instead, for example. But I&#8217;m sure you can figure out <strong>something</strong> more useful to do with this, as a homework ;-)</p></div>
<h3 id="_plugins">3.2. Plugins</h3><div style="clear:left"></div>
<div class="paragraph"><p>Pretty much everything in Supybot is a plugin. Most commands you use belong to a plugin. If two plugins provide the same command, then you need to prefix the command with the plugin name. For example, the <tt>ignore list</tt> command yields the following output:</p></div>
<div class="listingblock">
<div class="title">output</div>
<div class="content">
<pre><tt>Error: The command "ignore list" is available in the Admin and Channel plugins.
Please specify the plugin whose command you wish to call by using its name as a command before "ignore list".</tt></pre>
</div></div>
<div class="paragraph"><p>Thus, you need to either use <tt>admin ignore list</tt> or <tt>channel ignore list</tt> command. That is, unless you define which plugin is the default one using the <tt>defaultplugin [--remove] &lt;command&gt; [plugin]</tt> command provided in the <span style="color:green;">Owner</span> plugin.</p></div>
<div class="paragraph"><p>The <tt>list</tt> command (<span style="color:green;">Plugin</span>) can be used to list loaded plugins. You can prevent some plugins from showing in the list with the command:</p></div>
<div class="paragraph"><p><tt>config plugins.&lt;plugin&gt;.public False</tt></p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">This does not really make the plugins private. They can still be listed by unregistered users (unless they have anticapability for <tt>list</tt>). This is a bug in my opinion.</td>
</tr></table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>list</tt>
</dt>
<dd>
<p>
        List currently loaded plugins, excluding the ones set non-public.
</p>
</dd>
<dt class="hdlist1">
<tt>list --private</tt>
</dt>
<dd>
<p>
        List loaded plugins that are set to non-public.
</p>
</dd>
<dt class="hdlist1">
<tt>list &lt;plugin&gt;</tt>
</dt>
<dd>
<p>
        List commands provided by the given plugin.
</p>
</dd>
<dt class="hdlist1">
<tt>load [--deprecated] &lt;plugin&gt;</tt>
</dt>
<dd>
<p>
        Load a plugin. Supybot looks for plugins in directories listed in <tt>config conf.supybot.directories.plugins</tt>. Use comma as a separator.
</p>
</dd>
<dt class="hdlist1">
<tt>unload &lt;plugin&gt;</tt>
</dt>
<dd>
<p>
        Unloads a plugin. The <span style="color:green;">Owner</span> plugin cannot be unloaded.
</p>
</dd>
</dl></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Plugins can store information in a database. By default, the database is channel-specific. This can be changed by modifying <tt>config databases.plugins.channelSpecific</tt> to be global. The config item can also be set on per-channel basis.</td>
</tr></table>
</div>
<h4 id="installing_plugins">3.2.1. Installing additional plugins</h4>
<div class="paragraph"><p>To install a third-party plugin, you need first need to copy the plugin in one of the directories listed in <tt>conf.supybot.directories.plugins</tt> (<tt>~/supybot/plugins/</tt> for example). Then you simply <tt>load &lt;plugin&gt;</tt>.</p></div>
<div class="listingblock">
<div class="title">For example:</div>
<div class="content">
<pre><tt>cd ~/supybot/plugins
git clone git://github.com/jamessan/Supybot-Weather.git Weather</tt></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">The plugin directory name under the plugins directory must match the plugin name. In the example above, both "Weather" and "weather" as directory names work, but Supybot-Weather does not.</td>
</tr></table>
</div>
<h3 id="_configuration">3.3. Configuration</h3><div style="clear:left"></div>
<div class="paragraph"><p>Most of Supybot configuration is done online using the <span style="color:green;">Config</span> plugin. This excludes things such as granting the owner capability (must be done by modifying the files).</p></div>
<div class="paragraph"><p>There are two types of configuration items: global and channel-specific. The latter are actually no different from the global ones, except that they can be set for channels as well. This means you can have a global default which is overridden for specific channels.</p></div>
<div class="paragraph"><p>Configuration items are hierarchical. The "root" item is <tt>supybot</tt>, which can be omitted. Configs for plugins live under their own key, <tt>supybot.plugins</tt>, or shortly, <tt>plugins</tt>.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>config &lt;name&gt; [value]</tt>
</dt>
<dd>
<p>
        Get the current value of <tt>name</tt>, or set it to <tt>value</tt> if provided.
</p>
</dd>
<dt class="hdlist1">
<tt>config channel [channel] &lt;name&gt; [value]</tt>
</dt>
<dd>
<p>
        Ditto, but for channel configs.
</p>
</dd>
<dt class="hdlist1">
<tt>config default &lt;name&gt;</tt>
</dt>
<dd>
<p>
        Get the default value of <tt>name</tt>. This does not change the value. No, there is no command to reset an item to default value. You need to use <tt>config &lt;name&gt; [config default &lt;name&gt;]</tt> for that.
</p>
</dd>
<dt class="hdlist1">
<tt>config export &lt;filename&gt;</tt>
</dt>
<dd>
<p>
        Export non-confidential parts of configuration to a file for debugging purposes.
</p>
</dd>
<dt class="hdlist1">
<tt>config help &lt;name&gt;</tt>
</dt>
<dd>
<p>
        Show help for a configuration item.
</p>
</dd>
<dt class="hdlist1">
<tt>config list &lt;group&gt;</tt>
</dt>
<dd>
<p>
        List configuration items in <tt>group</tt>. Subgroups are prefixed with <em>@</em>, channel-specific items with <em>#</em>.
</p>
</dd>
<dt class="hdlist1">
<tt>config reload</tt>
</dt>
<dd>
<p>
        Reloads configuration. Mostly useful if you&#8217;ve had to modify the files by hand.
</p>
</dd>
<dt class="hdlist1">
<tt>config search &lt;word&gt;</tt>
</dt>
<dd>
<p>
        Show configuration items matching <tt>word</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>owner flush</tt>
</dt>
<dd>
<p>
        Save configuration changes to disk. This should be done automatically as well, if the <tt>flush</tt> configuration item is True (the default).
</p>
</dd>
</dl></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Some of the sections in this document have a list of related configuration items. They are listed similarly to the table below. In this example the config value could be modified with the <tt>config plugin.example.foo &lt;True|False&gt;</tt> command. If the key is prefixed with <tt>#</tt>, the config value can be set both globally and on channel-specific basis.</td>
</tr></table>
</div>
<div class="tableblock">
<table rules="none"
frame="hsides"
cellspacing="0" cellpadding="4">
<caption class="title">Tableplugin.example</caption>
<col width="120" />
<col width="120" />
<col width="560" />
<thead>
  <tr>
    <th align="left">
    Key
    </th>
    <th align="left">
    Default
    </th>
    <th align="left">
    Description
    </th>
  </tr>
</thead>
<tbody valign="top">
  <tr>
    <td align="left">
    foo
    </td>
    <td align="left">
    True
    </td>
    <td align="left">
    Example key.
    </td>
  </tr>
  <tr>
    <td align="left">
    #bar
    </td>
    <td align="left">
    False
    </td>
    <td align="left">
    Example key that can be set on channels as well.
    </td>
  </tr>
</tbody>
</table>
</div>
<h3 id="capabilities">3.4. Capabilities</h3><div style="clear:left"></div>
<div class="paragraph"><p>Many traditional IRC bots manage permissions of users using flags. Some network services in fact, do, too. Each user can have various flags on each channel. The flags can mean auto-op, op, use of !ban command and so forth. On side of those, there are often global user flags that entitle the user to full access, global auto-op, etc. Some bots also support channel flags that determine what bot functionality is available on the channel.</p></div>
<div class="paragraph"><p>Supybot does not have any flags. Instead, the permissions are managed using <em>capabilities</em>. There are two kinds of capabilities: <tt>user capabilities</tt> and <tt>channel capabilities</tt>.</p></div>
<div class="paragraph"><p><em>User capabilities</em> are checked first when a user tries to run a command. If the user has an <em>anticapability</em> for the command (eg. <tt>-command</tt>, <tt>-Plugin.command</tt>) or the Plugin (<tt>-Plugin</tt>), it won&#8217;t be run.</p></div>
<div class="paragraph"><p>Next, if the command was run on the channel, the <em>channel capabilities</em> are checked. The logic is same as above, but the checked capabilities are prefixed with <tt>#channel,</tt>, for example <tt>#channel,-Plugin.command</tt>.</p></div>
<div class="paragraph"><p>There are some special capabilities recognized by Supybot:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>owner</tt>
</dt>
<dd>
<p>
        For bot owners: the people who have "physical" access to the bot and its files. This cannot be granted online; the <em>conf/users.conf</em> file must be edited by hand followed by <tt>reload</tt>. Owners are exempt from <tt>#channel,op</tt> capability checks and channel anticapabilities.
</p>
</dd>
<dt class="hdlist1">
<tt>admin</tt>
</dt>
<dd>
<p>
        For bot administrators. Users with this capability can manage global bot properties, make the bot join new channels and so forth. However, they can&#8217;t do channel administration which is reserved for ops.
</p>
</dd>
<dt class="hdlist1">
<tt>#channel,op</tt>
</dt>
<dd>
<p>
        Channel ops can execute channel-related commands.
</p>
</dd>
<dt class="hdlist1">
<tt>trusted</tt>
</dt>
<dd>
<p>
        Allow user to run commands that can potentially crash the bot, or cause denial of service on the system it&#8217;s running on.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>Commands used to manipulate capabilities are covered in the <a href="#channel-capabilities">Manipulating channel capabilities</a> and <a href="#user-capabilities">Manipulating user capabilities</a> sections.</p></div>
</div>
<h2 id="_administrative_tasks">4. Administrative tasks</h2>
<div class="sectionbody">
<h3 id="_networks">4.1. Networks</h3><div style="clear:left"></div>
<div class="paragraph"><p>Related plugins: <span style="color:green;">Network, Services</span>.</p></div>
<h4 id="_adding_a_network">4.1.1. Adding a network</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>network connect [--ssl] &lt;network&gt; [&lt;host[:port]&gt;] [password]</tt>
</dt>
<dd>
<p>
        Connect to <tt>network</tt>. <tt>host</tt> must be provided if the network is new or has no servers defined.
</p>
</dd>
</dl></div>
<h4 id="_reconnecting">4.1.2. Reconnecting</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>reconnect [network] [message]</tt>
</dt>
<dd>
<p>
        Disconnects and connects <tt>network</tt>, or current if not specified. <tt>message</tt>, if given, is shown as the quit message, otherwise <tt>config plugins.Owner.quitMsg</tt> is used, or your nickname.
</p>
</dd>
</dl></div>
<h4 id="_disconnecting">4.1.3. Disconnecting</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>network disconnect [network] [message]</tt>
</dt>
<dd>
<p>
        Disconnect <tt>network</tt>, or current if not specified. <tt>message</tt> as above.
</p>
</dd>
</dl></div>
<h4 id="_listing_networks">4.1.4. Listing networks</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>networks</tt>
</dt>
<dd>
<p>
        List of networks &amp; servers currently connected to.
</p>
</dd>
</dl></div>
<div class="listingblock">
<div class="title">output</div>
<div class="content">
<pre><tt>freenode: wolfe.freenode.net and ircnet: irc.elisa.fi</tt></pre>
</div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>config list networks</tt>
</dt>
<dd>
<p>
        List all networks.
</p>
</dd>
</dl></div>
<h4 id="_adding_more_servers">4.1.5. Adding more servers</h4>
<div class="paragraph"><p>Once you&#8217;ve added a network with the initial server, you can add more servers:</p></div>
<div class="paragraph"><p><tt>config networks.&lt;network&gt;.servers [config networks.&lt;network&gt;.servers] server:6667</tt></p></div>
<h4 id="_listing_network_servers">4.1.6. Listing network servers</h4>
<div class="paragraph"><p><tt>config networks.&lt;network&gt;.servers</tt></p></div>
<div class="listingblock">
<div class="title">output</div>
<div class="content">
<pre><tt>chat.freenode.net:6667</tt></pre>
</div></div>
<h4 id="_services_nickserv">4.1.7. Services: NickServ</h4>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">My pratical experience with <span style="color:green;">Services</span> plugin on Freenode is&#8230; not-so-good. It definitely does not work all the time as expected.</td>
</tr></table>
</div>
<div class="paragraph"><p>You can make Supybot identify itself to the network NickServ after it has connected.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>config plugins.Services.noJoinsUntilIdentified True</tt>
</dt>
<dd>
<p>
        Settings this is useful on Freenode and other networks who change the user mask after identifying to NickServ. In my experience this seems to be a tad buggy, so I don&#8217;t recommend enabling it unless really needed.
</p>
</dd>
<dt class="hdlist1">
<tt>config plugins.Services.NickServ NickServ</tt>
</dt>
<dd>
<p>
        Tell the bot what name NickServ can be found under.
</p>
</dd>
<dt class="hdlist1">
<tt>services password &lt;nick&gt; [password]</tt>
</dt>
<dd>
<p>
        Can be used to set or remove NickServ password.
</p>
<div class="literalblock">
<div class="content">
<pre><tt>NOTE: Password removal did not work for me on Supybot 0.83.3</tt></pre>
</div></div>
</dd>
<dt class="hdlist1">
<tt>services identify</tt>
</dt>
<dd>
<p>
        Identifies the bot to NickServ with the current nick. You don&#8217;t need to give this command after the bot has been set up; it will identify when connecting to the network automatically.
</p>
</dd>
</dl></div>
<h4 id="_services_chanserv">4.1.8. Services: ChanServ</h4>
<div class="paragraph"><p>You can make Supybot request op after joining a channel on a network with ChanServ.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>config plugins.Services.ChanServ ChanServ</tt>
</dt>
<dd>
<p>
        Tell the bot what name ChanServ can be found under.
</p>
</dd>
<dt class="hdlist1">
<tt>config plugins.Services.ChanServ.op &lt;on|off&gt;</tt>
</dt>
<dd>
<p>
        Set the default for all channels. This will be used unless a channel-specific config overrides it.
</p>
</dd>
<dt class="hdlist1">
<tt>config channel [channel] plugins.services.ChanServ.op &lt;on|off&gt;</tt>
</dt>
<dd>
<p>
        Set to request op on the given <tt>channel</tt>.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>Voice and half-op (on networks supporting it) can be used similarly.</p></div>
<h3 id="_channels">4.2. Channels</h3><div style="clear:left"></div>
<div class="paragraph"><p>Related plugins: <span style="color:green;">Channel</span>.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Commands in this section (such as adding/removing channels) work in the current network, eg. the one you are messaging the bot in. The commands also accept a <tt>[channel]</tt> parameter which is needed only when the command is written in private.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">If you want to /msg the bot in one network, while having the command apply in another network, you can use the <tt>network command &lt;network&gt; &lt;command&gt; [params]</tt> command. The reply comes in the other network if you are there as well.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">The <tt>network command</tt> command does not seem to check if the user having your nick in the other network is recognized (eg. identified or recognized by hostmasks), so the reply may end up to someone else.</td>
</tr></table>
</div>
<h4 id="_adding_a_new_channel">4.2.1. Adding a new channel</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>join &lt;channel&gt; [key]</tt>
</dt>
<dd>
<p>
        Joins the <tt>channel</tt> using <tt>key</tt> if provided. Channels are automatically remembered and joined when the bot connects to the network next time.
</p>
</dd>
</dl></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content"><tt>config plugins.Channel.alwaysRejoin</tt> determines whether the bot will (attempt to) rejoin the channel when kicked out (the default).</td>
</tr></table>
</div>
<h4 id="_listing_channels">4.2.2. Listing channels</h4>
<div class="paragraph"><p><tt>channels</tt></p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">This only works in private, to prevent knowledge of top secret channels from falling into wrong hands.</td>
</tr></table>
</div>
<div class="paragraph"><p>You can list channels in another network with <tt>config networks.&lt;network&gt;.channels</tt>. Or with <tt>network command &lt;network&gt; channels</tt>.</p></div>
<h4 id="_removing_a_channel">4.2.3. Removing a channel</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>part [channel] [reason]</tt>
</dt>
<dd>
<p>
        Makes the bot leave <tt>channel</tt>, showing <tt>reason</tt> as part message if given. Note that all channel data is retained, but the bot does not join the channel anymore the next time it connects to the network.
</p>
</dd>
</dl></div>
<h4 id="_modifying_channel_config">4.2.4. Modifying channel config</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>config channel [channel] &lt;name&gt; &lt;value&gt;</tt>
</dt>
<dd>
<p>
        Sets config item <tt>name</tt> on <tt>channel</tt> to <tt>value</tt>, overriding the global value.
</p>
</dd>
</dl></div>
<h4 id="_setting_the_key">4.2.5. Setting the key</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>channel key [channel] [key]</tt>
</dt>
<dd>
<p>
        Sets key on <tt>channel</tt> to <tt>key</tt>, or removes it if <tt>key</tt> is not given.
</p>
</dd>
</dl></div>
<h4 id="_setting_the_limit">4.2.6. Setting the limit</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>channel limit [channel] [limit]</tt>
</dt>
<dd>
<p>
        Sets limit on <tt>channel</tt> to <tt>limit</tt>, or removes it if <tt>limit</tt> is not given (or is zero).
</p>
</dd>
</dl></div>
<h4 id="_channel_commands">4.2.7. Channel commands</h4>
<div class="paragraph"><p>Channel ops can use the following commands to control the channel via the bot, assuming it is opped.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>op [channel] [nick...]</tt>
</dt>
<dd>
<p>
        Ops the given nicks (or you if none) on the channel.
</p>
</dd>
<dt class="hdlist1">
<tt>deop [channel] [nick...]</tt>
</dt>
<dd>
<p>
        Ditto, but deops.
</p>
</dd>
<dt class="hdlist1">
<tt>voice [channel] [nick...]</tt>
</dt>
<dd>
<p>
        Voices the given nicks (or you if none) on the channel.
</p>
</dd>
<dt class="hdlist1">
<tt>devoice [channel] [nick...]</tt>
</dt>
<dd>
<p>
        Ditto, but devoices.
</p>
</dd>
<dt class="hdlist1">
<tt>kban [channel] [--{exact,nick,user,host}] &lt;nick&gt; [seconds] [reason]</tt>
</dt>
<dd>
<p>
        Bans and kicks the given nick from the channel. If <tt>seconds</tt> is specified and is not 0, the ban will expire after that time.
</p>
</dd>
<dt class="hdlist1">
<tt>mode [channel] &lt;mode&gt; [params]</tt>
</dt>
<dd>
<p>
        Set channel mode. This can be used to change any channel modes, making the commands below redundant aliases.
</p>
</dd>
<dt class="hdlist1">
<tt>moderate [channel]</tt>
</dt>
<dd>
<p>
        Set +m. This is not enforced by the bot, so any channel op can remove it.
</p>
</dd>
<dt class="hdlist1">
<tt>unmoderate [channel]</tt>
</dt>
<dd>
<p>
        Set -m.
</p>
</dd>
<dt class="hdlist1">
<tt>topic lock [channel]</tt>
</dt>
<dd>
<p>
        Set +t. Not enforced, so any channel op can remove it.
</p>
</dd>
<dt class="hdlist1">
<tt>topic unlock [channel]</tt>
</dt>
<dd>
<p>
        Set -t.
</p>
</dd>
<dt class="hdlist1">
<tt>alert [channel] &lt;text&gt;</tt>
</dt>
<dd>
<p>
        Sends <tt>text</tt> to all users on the channel with op capability.
</p>
</dd>
<dt class="hdlist1">
<tt>cycle [channel]</tt>
</dt>
<dd>
<p>
        Make the bot part and join the channel. Mostly useful to test whether auto-ops from other bots/users work for the bot.
</p>
</dd>
</dl></div>
<h4 id="_maintaining_the_ban_list">4.2.8. Maintaining the ban list</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>ban add [channel] &lt;nick|hostmask&gt; [expires]</tt>
</dt>
<dd>
<p>
        Add ban for given nick or hostmask on the channel. If nick is given, the full hostmask is banned. <tt>expires</tt> when gives, expires the ban after so many seconds.
</p>
</dd>
<dt class="hdlist1">
<tt>ban list [channel]</tt>
</dt>
<dd>
<p>
        List bans with their expire times.
</p>
</dd>
<dt class="hdlist1">
<tt>ban remove [channel] &lt;hostmask&gt;</tt>
</dt>
<dd>
<p>
        Removes the ban on given <tt>hostmask</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>config plugins.Channel.banmask &lt;string&gt;</tt>
</dt>
<dd>
<p>
        Hostmask style for <tt>ban add</tt>: <tt>exact</tt>, <tt>nick</tt>, <tt>user</tt>, <tt>host</tt>. This means which parts of the nick&#8217;s current hostmask are used (rest are wildcarded). Default is <tt>host user</tt> (eg. <tt>*!user@host</tt>).
</p>
</dd>
</dl></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Users matching the ban list are not automatically kicked off the channel. See the <tt>kban</tt> command in the previous section to kick and ban a user.</td>
</tr></table>
</div>
<h4 id="_maintaining_the_ignore_list">4.2.9. Maintaining the ignore list</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>channel ignore add [channel] &lt;nick|hostmask&gt; [expires]</tt>
</dt>
<dd>
<p>
        Ignores <tt>hostmask</tt> (or the full hostmask <tt>nick</tt> currently has) on <tt>channel</tt>. If <tt>expires</tt> is given, the ignore expires after that many seconds.
</p>
</dd>
<dt class="hdlist1">
<tt>channel ignore list [channel]</tt>
</dt>
<dd>
<p>
        Show ignored hostmasks on <tt>channel</tt>. This does not show the expire times, though (argh!).
</p>
</dd>
<dt class="hdlist1">
<tt>channel ignore remove [channel] &lt;hostmask&gt;</tt>
</dt>
<dd>
<p>
        Remove <tt>hostmask</tt> from list of ignored hostmasks on <tt>channel</tt>.
</p>
</dd>
</dl></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">There is also a global ignore list, available for admins.</td>
</tr></table>
</div>
<h4 id="_listing_channel_nicks">4.2.10. Listing channel nicks</h4>
<div class="paragraph"><p><tt>channel nicks [channel]</tt></p></div>
<h4 id="_topic_operations">4.2.11. Topic operations</h4>
<div class="paragraph"><p>Related plugins: <span style="color:green;">Topic</span>.</p></div>
<div class="paragraph"><p>Supybot allows elaborate manipulation of the channel topic. Topic consists of items, separated by a configurable character (default is <tt>||</tt>). Items are one-indexed.</p></div>
<div class="paragraph"><p>People who have used the Oer bot may notice that the topic manipulation commands are <a href="http://oer.equnet.org/help.php#um39">somewhat similar</a>.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>topic add [channel] &lt;text&gt;</tt>
</dt>
<dd>
<p>
        Add a new topic item at the end.
</p>
</dd>
<dt class="hdlist1">
<tt>topic change [channel] &lt;number&gt; &lt;regexp&gt;</tt>
</dt>
<dd>
<p>
        Do a regular expression substitution on the topic item <tt>number</tt>. For example: <tt>topic change 2 s/foo/bar/</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>topic default [channel]</tt>
</dt>
<dd>
<p>
        Restore topic on channel to the default set with <tt>config plugins.Topic.default</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>topic fit [channel] &lt;text&gt;</tt>
</dt>
<dd>
<p>
        Adds a new topic item at the end like <tt>topic add</tt>, but if there isn&#8217;t enough space, first removes some items from the beginning. <tt>topic add</tt> complains if there isn&#8217;t enough space.
</p>
</dd>
<dt class="hdlist1">
<tt>topic get [channel] &lt;number&gt;</tt>
</dt>
<dd>
<p>
        Return topic item <tt>number</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>topic insert [channel] &lt;text&gt;</tt>
</dt>
<dd>
<p>
        Add a new topic item in the beginning.
</p>
</dd>
<dt class="hdlist1">
<tt>topic list [channel]</tt>
</dt>
<dd>
<p>
        Return list of topic items.
</p>
</dd>
<dt class="hdlist1">
<tt>topic lock [channel]</tt>
</dt>
<dd>
<p>
        Set channel mode <tt>+t</tt>, preventing non-opped users from changing the topic.
</p>
</dd>
<dt class="hdlist1">
<tt>topic redo [channel]</tt>
</dt>
<dd>
<p>
        Undo the last undo.
</p>
</dd>
<dt class="hdlist1">
<tt>topic remove [channel] &lt;number&gt;</tt>
</dt>
<dd>
<p>
        Remove item <tt>number</tt> from the topic.
</p>
</dd>
<dt class="hdlist1">
<tt>topic reorder [channel] &lt;number&gt;...</tt>
</dt>
<dd>
<p>
        Reorder topic items in the given order. You must give as many numbers as there are items. For example, to move third item to first position, use <tt>topic reorder 3 1 2</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>topic replace [channel] &lt;number&gt; &lt;text&gt;</tt>
</dt>
<dd>
<p>
        Replace topic item <tt>number</tt> with <tt>text</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>topic restore [channel]</tt>
</dt>
<dd>
<p>
        Revert any changes made to the topic by users, and set it back to whatever the bot last set it to.
</p>
</dd>
<dt class="hdlist1">
<tt>topic separator [channel] &lt;separator&gt;</tt>
</dt>
<dd>
<p>
        Change the topic separator to <tt>separator</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>topic set [channel] [number] &lt;text&gt;</tt>
</dt>
<dd>
<p>
        Replace either the whole topic or, if <tt>number</tt> is given, one item. In the latter case, this is the same as <tt>topic replace</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>topic shuffle [channel]</tt>
</dt>
<dd>
<p>
        Reorder the topic items randomly.
</p>
</dd>
<dt class="hdlist1">
<tt>topic swap [channel] &lt;number1&gt; &lt;number2&gt;</tt>
</dt>
<dd>
<p>
        Swap topic items at the given positions.
</p>
</dd>
<dt class="hdlist1">
<tt>topic [channel]</tt>
</dt>
<dd>
<p>
        Show (the whole) topic for the channel.
</p>
</dd>
<dt class="hdlist1">
<tt>topic undo [channel]</tt>
</dt>
<dd>
<p>
        Revert the last change a topic command made to the topic. Note that if users directly edited the topic, those changes will be lost. Can be used multiple times.
</p>
</dd>
<dt class="hdlist1">
<tt>topic unlock [channel]</tt>
</dt>
<dd>
<p>
        Set channel mode <tt>-t</tt>, allowing all users to change the topic.
</p>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
frame="hsides"
cellspacing="0" cellpadding="4">
<caption class="title">Tableplugins.Topic</caption>
<col width="120" />
<col width="120" />
<col width="560" />
<thead>
  <tr>
    <th align="left">
    Key
    </th>
    <th align="left">
    Default
    </th>
    <th align="left">
    Description
    </th>
  </tr>
</thead>
<tbody valign="top">
  <tr>
    <td align="left">
    #default
    </td>
    <td align="left">
    </td>
    <td align="left">
    Default channel topic
    </td>
  </tr>
  <tr>
    <td align="left">
    #format
    </td>
    <td align="left">
    $topic ($nick)
    </td>
    <td align="left">
    Format for the items
    </td>
  </tr>
  <tr>
    <td align="left">
    #recognizeTopiclen
    </td>
    <td align="left">
    True
    </td>
    <td align="left">
    Whether to recognize max topic length given by the server and refuse to set longer topics.
    </td>
  </tr>
  <tr>
    <td align="left">
    #separator
    </td>
    <td align="left">
    ||
    </td>
    <td align="left">
    Used to concatenate items
    </td>
  </tr>
  <tr>
    <td align="left">
    #undo.max
    </td>
    <td align="left">
    10
    </td>
    <td align="left">
    How long undo history to keep
    </td>
  </tr>
</tbody>
</table>
</div>
<div class="listingblock">
<div class="title">Aliases for partial oer compatibility:</div>
<div class="content">
<pre><tt>alias add ta topic add $1
alias add td topic delete $1
alias add te topic replace $1 $2
alias add ts topic swap $1 $2</tt></pre>
</div></div>
<h4 id="_logging">4.2.12. Logging</h4>
<div class="paragraph"><p>Logging of channels is provided by the <span style="color:green;">ChannelLogger</span> plugin. Various channel-specific configuration items are provided, see <tt>config list plugins.ChannelLogger</tt>.</p></div>
<div class="paragraph"><p>By default logs will go into logs/ChannelLogger/&lt;network&gt;/&lt;channel&gt;/&lt;channel&gt;.log and will be rotated when the default "%d-%a-%Y" (eg. 06-Sat-2008) timestamp rotates. See <a href="http://docs.python.org/lib/module-time.html">the python documentation for strftime</a> for the formatting characters.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">The logs of <span style="color:green;">ChannelLogger</span> cannot be searched online. However, other plugins provide some searching functionality. See <a href="#searching-history">Searching the history</a>.</td>
</tr></table>
</div>
<h4 id="_auto_ops_and_voices">4.2.13. Auto-ops and voices</h4>
<div class="paragraph"><p>Auto-opping is provided by the <span style="color:green;">AutoMode</span> plugin.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>load AutoMode</tt>
</dt>
<dd>
<p>
        Loads the <span style="color:green;">AutoMode</span> plugin, which works out-of-box. By default it&#8217;s enabled on all channels and voices/halfops/ops users with respective capabilities. You can enable auto-opping only on some channels by tweaking the config keys below.
</p>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
frame="hsides"
cellspacing="0" cellpadding="4">
<caption class="title">Tableplugins.AutoMode</caption>
<col width="120" />
<col width="120" />
<col width="560" />
<thead>
  <tr>
    <th align="left">
    Key
    </th>
    <th align="left">
    Default
    </th>
    <th align="left">
    Description
    </th>
  </tr>
</thead>
<tbody valign="top">
  <tr>
    <td align="left">
    #enable
    </td>
    <td align="left">
    True
    </td>
    <td align="left">
    Whether the plugin is enabled.
    </td>
  </tr>
  <tr>
    <td align="left">
    #fallthrough
    </td>
    <td align="left">
    False
    </td>
    <td align="left">
    If enabled and <tt>op</tt> is False, halfops/voices instead if they are True.
    </td>
  </tr>
  <tr>
    <td align="left">
    #halfop
    </td>
    <td align="left">
    True
    </td>
    <td align="left">
    Halfop users with the <tt>halfop</tt> capability.
    </td>
  </tr>
  <tr>
    <td align="left">
    #op
    </td>
    <td align="left">
    True
    </td>
    <td align="left">
    Ditto, but op.
    </td>
  </tr>
  <tr>
    <td align="left">
    #voice
    </td>
    <td align="left">
    True
    </td>
    <td align="left">
    Ditto, but voice.
    </td>
  </tr>
  <tr>
    <td align="left">
    #ban
    </td>
    <td align="left">
    True
    </td>
    <td align="left">
    Whether to ban people who join the channel and are on the banlist.
    </td>
  </tr>
  <tr>
    <td align="left">
    #ban.period
    </td>
    <td align="left">
    86400
    </td>
    <td align="left">
    How many seconds bans will last.
    </td>
  </tr>
</tbody>
</table>
</div>
<h4 id="channel-capabilities">4.2.14. Manipulating channel capabilities</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>capability list [channel]</tt>
</dt>
<dd>
<p>
        List capabilities on <tt>channel</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>capability set [channel] &lt;capability..&gt;</tt>
</dt>
<dd>
<p>
        Adds the given <tt>capability</tt> to <tt>channel</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>capability unset [channel] &lt;capability..&gt;</tt>
</dt>
<dd>
<p>
        Removes the given <tt>capability</tt> from <tt>channel</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>capability setdefault [channel] &lt;True|False&gt;</tt>
</dt>
<dd>
<p>
        Whether to allow users on <tt>channel</tt> by default to access non-maintenance related commands. Default is True.
       <br />
        Note that this concerns unregistered users as well. So if you want to disallow use of commands by unregistered users, set default user capabilities to allow them, and set this to False.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>See also <a href="#capabilities">Capabilities</a>.</p></div>
<h4 id="channel-lobotomy">4.2.15. Silencing the bot</h4>
<div class="paragraph"><p>The bot can be silenced on some channels by using the lobotomy commands.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>lobotomy add [channel]</tt>
</dt>
<dd>
<p>
        Make the bot silent and ignore all requests in the <tt>channel</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>lobotomy list</tt>
</dt>
<dd>
<p>
        List channels the bot is silent on.
</p>
</dd>
<dt class="hdlist1">
<tt>lobotomy remove [channel]</tt>
</dt>
<dd>
<p>
        Break silence on a channel.
</p>
</dd>
</dl></div>
<h3 id="_users">4.3. Users</h3><div style="clear:left"></div>
<div class="paragraph"><p>Related plugins: <span style="color:green;">Users</span>.</p></div>
<div class="paragraph"><p>Supybot users are global: they are visible across networks. This means the same username/password and hostmasks will work in all networks the bot is on.</p></div>
<div class="paragraph"><p>Users are recognized either by matching hostmasks, or after manually identifying to the bot. In secure mode, the user must both match a hostmask and identify to the bot (<tt>uset set secure [password] &lt;True|False&gt;</tt>).</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">If users knowing each others' nicks is an issue, they could come up with different aliases when registering to the bot. The bot username does not have to match the nick of the user.</td>
</tr></table>
</div>
<h4 id="_adding_a_new_user">4.3.1. Adding a new user</h4>
<div class="paragraph"><p><tt>user register &lt;name&gt; &lt;password&gt;</tt></p></div>
<h4 id="_manipulating_hostmasks">4.3.2. Manipulating hostmasks</h4>
<div class="paragraph"><p><tt>user hostmask add</tt> - add your current hostmask. Obviously this makes only sense after identify.</p></div>
<div class="paragraph"><p><tt>user hostmask add [name] [hostmask] [password]</tt> - add hostmask for another user. If not owner, password must be given.</p></div>
<div class="paragraph"><p><tt>user hostmask remove &lt;name&gt; &lt;hostmask&gt; [password]</tt></p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">There is no way to add network-specific hostmasks.</td>
</tr></table>
</div>
<h4 id="_listing_users">4.3.3. Listing users</h4>
<div class="paragraph"><p><tt>user list [glob]</tt> - list registered users. Note that the list of users is global across networks.</p></div>
<h4 id="_deleting_users">4.3.4. Deleting users</h4>
<div class="paragraph"><p><tt>user unregister &lt;name&gt; [password]</tt></p></div>
<h4 id="_changing_password">4.3.5. Changing password</h4>
<div class="paragraph"><p><tt>user set password &lt;user&gt; &lt;old password&gt; &lt;new password&gt;</tt>.</p></div>
<h4 id="_renaming_a_user">4.3.6. Renaming a user</h4>
<div class="paragraph"><p><tt>user changename &lt;name&gt; &lt;new name&gt; [password]</tt></p></div>
<div class="paragraph"><p>Users can change their name themselves.</p></div>
<h4 id="user-capabilities">4.3.7. Manipulating user capabilities</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>capabilities [user]</tt>
</dt>
<dd>
<p>
        List capabilities of the <tt>user</tt>, or the calling user.
</p>
</dd>
<dt class="hdlist1">
<tt>admin capability add &lt;user|hostmask&gt; &lt;capability&gt;</tt>
</dt>
<dd>
<p>
        Add <tt>capability</tt> to <tt>user</tt> or a user that matches the <tt>hostmask</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>admin capability remove &lt;user|hostmask&gt; &lt;capability&gt;</tt>
</dt>
<dd>
<p>
        Ditto, but remove the capability.
</p>
</dd>
<dt class="hdlist1">
<tt>channel capability add [channel] &lt;nick|user&gt; &lt;capability..&gt;</tt>
</dt>
<dd>
<p>
        Add capability <tt>capability</tt> on <tt>channel</tt> to <tt>nick</tt>/<tt>user</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>channel capability remove [channel] &lt;nick|user&gt; &lt;capability..&gt;</tt>
</dt>
<dd>
<p>
        Remove capability <tt>capability</tt> on <tt>channel</tt> from <tt>nick</tt>/<tt>user</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>defaultcapability &lt;add|remove&gt; &lt;capability&gt;</tt>
</dt>
<dd>
<p>
        Add or remove <tt>capability</tt> from list of capabilities given to new users.
</p>
</dd>
<dt class="hdlist1">
<tt>config capabilities</tt>
</dt>
<dd>
<p>
        List default capabilities given to new users.
</p>
</dd>
</dl></div>
<div class="listingblock">
<div class="title">output</div>
<div class="content">
<pre><tt>-owner -admin -trusted</tt></pre>
</div></div>
<div class="paragraph"><p>See also <a href="#capabilities">Capabilities</a>.</p></div>
<h3 id="_general_bot_maintenance">4.4. General bot maintenance</h3><div style="clear:left"></div>
<div class="paragraph"><p>Related plugins: <span style="color:green;">Admin, Config</span>.</p></div>
<h4 id="_setting_nickname_amp_alternative_nick">4.4.1. Setting nickname &amp; alternative nick</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>admin nick &lt;newnick&gt;</tt>
</dt>
<dd>
<p>
        Change nick to <tt>newnick</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>config nick</tt>
</dt>
<dd>
<p>
        Default nick.
</p>
</dd>
<dt class="hdlist1">
<tt>config nick.alternates</tt>
</dt>
<dd>
<p>
        Space-separated list of alternate nicks, %s refers to nick.
</p>
</dd>
</dl></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">It is not possible to have a different nick in different networks.</td>
</tr></table>
</div>
<h4 id="_setting_ident">4.4.2. Setting ident</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>config ident &lt;newident&gt;</tt>
</dt>
<dd>
<p>
        Sets the bot&#8217;s ident (<tt>nick!ident@host</tt>).
</p>
</dd>
</dl></div>
<h4 id="_setting_ircname">4.4.3. Setting ircname</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>config user [ircname]</tt>
</dt>
<dd>
<p>
        Sets the bot&#8217;s ircname/realname to <tt>ircname</tt>. If left empty, defaults to <em>Supybot 0.83.3</em> for example.
</p>
</dd>
</dl></div>
<h4 id="_setting_command_prefix_controlling_when_the_bot_replies">4.4.4. Setting command prefix / controlling when the bot replies</h4>
<div class="paragraph"><p>Like most other bots, the bot can be addressed by its nickname, or a command prefix character (any or many of <tt>~!@#$%^&amp;*()_-+=[{}]\|'";:,&lt;.&gt;/?</tt>). For special (braindead?) purposes the bot can also be made assume that all lines are addressed to it.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>config reply.whenAddressedBy.chars</tt>
</dt>
<dd>
<p>
        List of characters the bot will recognize as addressing, besides the nick of the bot.
</p>
</dd>
<dt class="hdlist1">
<tt>config channel [channel] reply.whenAddressedBy.chars</tt>
</dt>
<dd>
<p>
        Ditto, but for a specific channel.
</p>
</dd>
<dt class="hdlist1">
<tt>config reply.whenNotAddressed</tt>
</dt>
<dd>
<p>
        Assume everyone wants to talk to the bot, eg. treat all messages as if addressed to the bot. This does not imply <tt>reply.WhenNotCommand False</tt> which you should set as well.
</p>
</dd>
<dt class="hdlist1">
<tt>config reply.whenNotCommand</tt>
</dt>
<dd>
<p>
        Whether to reply when addressed with an invalid command.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>See also: <a href="#config_reply">Configuration: reply</a>.</p></div>
<h4 id="_keeping_the_primary_nick">4.4.5. Keeping the primary nick</h4>
<div class="paragraph"><p>Like other bots, Supybot can be configured to try and keep the primary nick using the <span style="color:green;">NickCapture</span> plugin. This is primarily useful in networks with no NickServ support.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>load NickCapture</tt>
</dt>
<dd>
<p>
        Loads the plugin which works without further configuration.
</p>
</dd>
<dt class="hdlist1">
<tt>config plugins.NickCapture.ison</tt>
</dt>
<dd>
<p>
        Whether the plugin is actively checking for the primary nick. This setting makes no sense, as you might as well <tt>unload NickCapture</tt> if you think about setting this to false.
</p>
</dd>
<dt class="hdlist1">
<tt>config plugins.NickCapture.ison.period</tt>
</dt>
<dd>
<p>
        How many seconds to wait between nick availability polls. The default is 600 (10 min). The smaller you set this, the higher the chance of the bot recovering the nick when it becomes available. On the other hand, you will also generate more traffic so you might want to avoid that.
</p>
</dd>
</dl></div>
<h3 id="_owner_commands">4.5. Owner commands</h3><div style="clear:left"></div>
<div class="paragraph"><p><tt>owner announce &lt;text&gt;</tt> - send <tt>text</tt> to all channels the bot is on.</p></div>
<div class="paragraph"><p><tt>owner ircquote &lt;raw&gt;</tt> - send <tt>raw</tt> as-is to the server. You need to know your way around <a href="http://www.faqs.org/rfcs/rfc1459.html">RFC1459</a> pretty well to use this.</p></div>
</div>
<h2 id="_user_commands">5. User commands</h2>
<div class="sectionbody">
<h3 id="searching-history">5.1. Searching the history</h3><div style="clear:left"></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>url last [channel] [--{from,with,without,near,proto} value] [--nolimit]</tt>
</dt>
<dd>
<p>
        Find last URL (or all with <tt>--nolimit</tt>) matching given criteria. From matches nick, with(out) part of the URL, near rest of the line where the URL was, and proto matches the protocol (https, ftp, etc). In case of multiple URLs, the newest is listed first. Multiple criterias can be given.
</p>
<div class="literalblock">
<div class="content">
<pre><tt>NOTE: This command lists only the URLs, not nick or what message the URLs were part of. No date is shown either.</tt></pre>
</div></div>
</dd>
<dt class="hdlist1">
<tt>last [--from,in,on,with,without,regexp} value] [--nolimit]</tt>
</dt>
<dd>
<p>
        Find messages matching given criteria. From matches nick, in matches channel, on matches network, with(out) matches part of the message, regexp matches messages that are included by the regular expression. Also see <tt>config protocols.irc.maxHistoryLength</tt>.
</p>
</dd>
</dl></div>
<h3 id="_useful_plugins">5.2. Useful plugins</h3><div style="clear:left"></div>
<h4 id="plugin_alias">5.2.1. Alias</h4>
<div class="paragraph"><p>Alias is one of the most powerful plugins available in Supybot. It allows you to set up <em>shortcuts</em> to other commands. When put together with command nesting, and the ability to provide arbitrary number of required and optional arguments to each alias, this becomes a very versatile feature. The main commands in this plugin are <tt>add</tt> and <tt>remove</tt> to add and remove aliases:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>add &lt;name&gt; &lt;alias&gt;</tt>
</dt>
<dd>
<p>
         Defines an alias <tt>name</tt> that executes <tt>alias</tt>. The <tt>alias</tt> should be in the standard "command argument [nestedcommand argument]" arguments to the alias; they&#8217;ll be filled with the first, second, etc. arguments. $1, $2, etc. can be used for required arguments. @1, @2, etc. can be used for optional arguments. $* simply means "all remaining arguments," and cannot be combined with optional arguments.
</p>
</dd>
<dt class="hdlist1">
<tt>remove &lt;name&gt;</tt>
</dt>
<dd>
<p>
        Removes the alias named <tt>name</tt>.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>As a simple example, let&#8217;s say you want to set up a quick check to see if some website is down, using the downforeveryoneorjustme.com service. See the following example session for how you&#8217;d accomlish that:</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>&lt;user&gt; alias add isitdown web title http://downforeveryoneorjustme.com/$1
&lt;supybot&gt; The operation succeeded.
&lt;user&gt; isitdown google.com
&lt;supybot&gt; It's just you.</tt></pre>
</div></div>
<div class="paragraph"><p>What this has accomplished is that you don&#8217;t have to give the full command, which would be <tt>web title http://downforeveryoneorjustme.com/google.com</tt>, instead you now have a quick shortcut to check the status of a site. Aliases get their own help messages, just like all the normal commands, which tell us what got stored in the alias. For example, for the alias above:</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>&lt;user&gt; help isitdown
&lt;supybot&gt; (isitdown &lt;an alias, 1 argument&gt;) -- Alias for "web title http://downforeveryoneorjustme.com/$1".</tt></pre>
</div></div>
<div class="paragraph"><p>We have introduced the variable substitution feature of aliases here. Note the <tt>$1</tt> in the alias, which means "put the first argument provided to this command right here". You can also have optional arguments, which are represented as <tt>@1</tt>, <tt>@2</tt>, etc. There is also <tt>$*</tt> which acts as a placeholder for "all the remaining arguments", but it cannot be mixed with optional arguments. For example, we can try the following:</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>&lt;user&gt; alias add saymoo echo moo $1 @1
&lt;supybot&gt; The operation succeeded.
&lt;user&gt; help saymoo
&lt;supybot&gt; (saymoo &lt;an alias, at least 1 argument&gt;) -- Alias for "echo moo $1 @1".
&lt;user&gt; saymoo bla
&lt;supybot&gt; moo bla
&lt;user&gt; saymoo bla stuff
&lt;supybot&gt; moo bla stuff</tt></pre>
</div></div>
<div class="paragraph"><p>There are some important details to understand when you use nested commands and quotes in your aliases. For example, you might naively try the following:</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>&lt;user&gt; alias add test echo [uptime]
&lt;supybot&gt; The operation succeeded.
&lt;user&gt; help test
&lt;supybot&gt; (test &lt;an alias, 0 arguments&gt;) -- Alias for "echo I have been running for 1 day, 14 hours, 46 minutes, and 53 seconds.".</tt></pre>
</div></div>
<div class="paragraph"><p>Notice what happened - the uptime command was executed, then stored into the alias, rather than the actual command nesting getting stored. Every time you call the test command, the output will always be exactly the same. This is probably not what you had in mind. To avoid immediate nested command evaluation, you must put quotes around the argument to alias (or around the argument to echo). Like so:</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>&lt;user&gt; alias add test "echo [uptime]"
&lt;supybot&gt; The operation succeeded.
&lt;user&gt; help test
&lt;supybot&gt; (test &lt;an alias, 0 arguments&gt;) -- Alias for "echo [uptime]".
&lt;user&gt; test
&lt;supybot&gt; I have been running for 1 day, 14 hours, 50 minutes, and 19 seconds.</tt></pre>
</div></div>
<div class="paragraph"><p>There, much better!</p></div>
<div class="paragraph"><p>Another issue we&#8217;ll want to address is, what if you want literal quotes in your alias output? For example, say you want an alias that would give the following output:</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>&lt;user&gt; test
&lt;supybot&gt; bla "moo" bla</tt></pre>
</div></div>
<div class="paragraph"><p>We are going to use the <tt>echo</tt> command from the <em>Utilities</em> plugin, which lets the user make the bot say any string. Our first naive try may be the following:</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>&lt;user&gt; alias add test echo bla "moo" bla
&lt;supybot&gt; The operation succeeded.
&lt;user&gt; help test
&lt;supybot&gt; (test &lt;an alias, 0 arguments&gt;) -- Alias for "echo bla moo bla".
&lt;user&gt; test
&lt;supybot&gt; bla moo bla</tt></pre>
</div></div>
<div class="paragraph"><p>Doesn&#8217;t work. The quotes are simply taken as quoting an argument, and don&#8217;t make it into the alias. Let&#8217;s try escaping the quotes and see what happens.</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>&lt;user&gt; alias add test echo bla \"moo\" bla
&lt;supybot&gt; The operation succeeded.
&lt;user&gt; help test
&lt;supybot&gt; (test &lt;an alias, 0 arguments&gt;) -- Alias for "echo bla \"moo\" bla".
&lt;user&gt; test
&lt;supybot&gt; bla \"moo\" bla</tt></pre>
</div></div>
<div class="paragraph"><p>Closer, but still no cigar - this is because of the way supybot argument parsing works - unquoted arguments get taken as string literals, while quoted arguments get string parsing done on them. Compare the two outputs below:</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>&lt;user&gt; echo bla\"bla
&lt;supybot&gt; bla\"bla
&lt;user&gt; echo "bla\"bla"
&lt;supybot&gt; bla"bla</tt></pre>
</div></div>
<div class="paragraph"><p>Raw unquoted string is taken as a literal, while the quoted string interprets the <tt>\"</tt> sequence as an escaped quote character. This is what we want. Our goal is, then, to get the string <tt>echo "bla \"moo\" bla"</tt> as the content of our alias.</p></div>
<div class="paragraph"><p>Our final, successful, try follows:</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>&lt;user&gt; alias add test "echo \"bla \\\"moo\\\" bla\""
&lt;supybot&gt; The operation succeeded.
&lt;user&gt; test
&lt;supybot&gt; bla "moo" bla
&lt;user&gt; help test
&lt;supybot&gt; (test &lt;an alias, 0 arguments&gt;) -- Alias for "echo "bla \"moo\" bla"".</tt></pre>
</div></div>
<div class="paragraph"><p>Note what is happening here. First, we quote the entire content of the alias as an argument, to get string parsing going. We escape the quote character before bla, to get a literal quote character into the alias string. We then triple-escape the second quote character. <tt>\\</tt> gets a literal backslash into our alias string, while the following <tt>\"</tt> gets a literal quote. We do the same thing for the closing quotation around <tt>moo</tt>. Finally, we stick in another literal quote to finish quoting the argument to echo, and at the end, close the exterior quotation pair.</p></div>
<div class="paragraph"><p>Quite a bit of detail here - but necessary to know if you&#8217;re going to be using aliases to perform complex tasks.</p></div>
<h4 id="plugin_anonymous">5.2.2. Anonymous</h4>
<div class="paragraph"><p>Allows you to provide users a way to chat on a channel anonymously (eg. only the bot owner(s) know via logs who are talking).</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>do &lt;channel&gt; &lt;action&gt;</tt>
</dt>
<dd>
<p>
        Sends <tt>action</tt> to <tt>channel</tt>. This is the same as a normal IRC client <tt>/me does something</tt> command.
</p>
</dd>
<dt class="hdlist1">
<tt>say &lt;channel&gt; &lt;text&gt;</tt>
</dt>
<dd>
<p>
        Say <tt>text</tt> on <tt>channel</tt>.
</p>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
frame="hsides"
cellspacing="0" cellpadding="4">
<caption class="title">Tableplugins.Anonymous</caption>
<col width="120" />
<col width="120" />
<col width="560" />
<thead>
  <tr>
    <th align="left">
    Key
    </th>
    <th align="left">
    Default
    </th>
    <th align="left">
    Description
    </th>
  </tr>
</thead>
<tbody valign="top">
  <tr>
    <td align="left">
    #requirePresenceInChannel
    </td>
    <td align="left">
    True
    </td>
    <td align="left">
    Whether the user must be in the channel the message is targeted to.
    </td>
  </tr>
  <tr>
    <td align="left">
    allowPrivateTarget
    </td>
    <td align="left">
    False
    </td>
    <td align="left">
    Whether to allow a nick as a target for say. NOTE: This has not been implemented in 0.83.3 although it exists!
    </td>
  </tr>
  <tr>
    <td align="left">
    requireCapability
    </td>
    <td align="left">
    </td>
    <td align="left">
    If set, capability to check for.
    </td>
  </tr>
  <tr>
    <td align="left">
    requireRegistration
    </td>
    <td align="left">
    True
    </td>
    <td align="left">
    Whether registration is required to use this plugin.
    </td>
  </tr>
</tbody>
</table>
</div>
<h4 id="plugin_dict">5.2.3. Dict</h4>
<div class="paragraph"><p><span style="color:green;">Dict</span> provides dictionary functionality using dict.org. You can also use a local dictd server.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>dict [dictionary] &lt;word&gt;</tt>
</dt>
<dd>
<p>
        Show dictionary entry for <tt>word</tt>, from <tt>dictionary</tt> if provided. If <tt>plugins.Dict.default</tt> is set, use the specified dictionary instead of all.
</p>
</dd>
<dt class="hdlist1">
<tt>dictionaries</tt>
</dt>
<dd>
<p>
        List dictionaries available on the used server.
</p>
</dd>
<dt class="hdlist1">
<tt>dict random</tt>
</dt>
<dd>
<p>
        Show a random dictionary from available dictionaries.
</p>
</dd>
<dt class="hdlist1">
<tt>config plugins.Dict.server [server]</tt>
</dt>
<dd>
<p>
        The dictd server to be used, default is dict.org.
</p>
</dd>
<dt class="hdlist1">
<tt>config plugins.Dict.default [dictionary]</tt>
</dt>
<dd>
<p>
        Channel-specific default dictionary for <tt>dict</tt> command. <tt>*</tt> means to use all dictionaries. <tt>wn</tt> is a good default if english words are mostly looked up.
</p>
</dd>
</dl></div>
<h4 id="plugin_later">5.2.4. Later</h4>
<div class="paragraph"><p>This is a nick-based replacement for NoteServ and the likes. Simply put, you give the bot a note to deliver to a nick (or wildcard) the next time it sees a matching nick. In other words, this can be used to deliver messages to people who are not registered to the bot. Naturally that is not a very safe method of communicating.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>notes [nick]</tt>
</dt>
<dd>
<p>
        List nicks that have notes queued, or the notes queued for <tt>nick</tt> if given.
</p>
</dd>
<dt class="hdlist1">
<tt>later tell &lt;nick&gt; &lt;text&gt;</tt>
</dt>
<dd>
<p>
        Queues <tt>text</tt> to be sent to first matching <tt>nick</tt> when seen. Nick can contain wildcards, eg. <tt>foo*</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>config plugins.Later.maximum</tt>
</dt>
<dd>
<p>
        How many messages can be queued per nick at maximum, default is 0 = no limit.
</p>
</dd>
<dt class="hdlist1">
<tt>config plugins.Later.private</tt>
</dt>
<dd>
<p>
        Whether to send notes in private or on the channel where the recipient is seen.
</p>
</dd>
</dl></div>
<h4 id="plugin_moobotfactoids">5.2.5. MoobotFactoids</h4>
<div class="paragraph"><p>MoobotFactoids implements nifty factoids.</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>&lt;user&gt; !supybook is &lt;reply&gt; Please read http://supybook.fealdia.org/ before asking.
&lt;bot&gt; OK
&lt;user&gt; !supybook
&lt;bot&gt; Please read http://supybook.fealdia.org/ before asking.</tt></pre>
</div></div>
<div class="listingblock">
<div class="title">Setting up</div>
<div class="content">
<pre><tt>config databases [config databases] sqlite
load moobotfactoids</tt></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">If you get any of the following errors, you need to install sqlite, python-sqlite and python-pysqlite.</td>
</tr></table>
</div>
<div class="listingblock">
<div class="content">
<pre><tt>NoSuitableDatabase: No suitable databases were found.  Suitable databases include sqlite.
Error: You need to have PySQLite installed to use this plugin.  Download it at &lt;http://pysqlite.org/&gt;</tt></pre>
</div></div>
<h4 id="plugin_seen">5.2.6. Seen</h4>
<div class="paragraph"><p>The <span style="color:green;">Seen</span> plugin keeps track of last channel/nick/user activity. Most typical use is asking the bot when a given user was last seen chatting on a channel.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>seen any [channel] [--user &lt;user&gt;] [nick]</tt>
</dt>
<dd>
<p>
        Lists any activity given <tt>nick</tt> or <tt>user</tt> was doing on the channel. If no <tt>nick</tt> or <tt>user</tt> is given, returns the last activity on the channel, regardless of who it was from.
</p>
</dd>
<dt class="hdlist1">
<tt>seen last [channel]</tt>
</dt>
<dd>
<p>
        Last line said on the channel.
</p>
</dd>
<dt class="hdlist1">
<tt>seen [channel] &lt;nick&gt;</tt>
</dt>
<dd>
<p>
        Last time a <tt>nick</tt> was seen on a channel and what it said.
</p>
</dd>
</dl></div>
<div class="paragraph"><p><tt>seen user [channel] &lt;user&gt;</tt>:
        Ditto, except use a user name, disregarding what nick the said user had.</p></div>
<h4 id="plugin_web">5.2.7. Web</h4>
<div class="paragraph"><p>The <span style="color:green;">Web</span> plugin contains some useful WWW-related functionality, such as fetching titles for URLs users paste on the channel.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>doctype &lt;url&gt;</tt>
</dt>
<dd>
<p>
        Show the doctype line of <tt>url</tt>, if any.
</p>
</dd>
<dt class="hdlist1">
<tt>fetch &lt;url&gt;</tt>
</dt>
<dd>
<p>
        Show the contents of <tt>url</tt>. Amount of data shown is determined by the configuration variable <tt>plugins.Web.fetch.maximum</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>headers &lt;url&gt;</tt>
</dt>
<dd>
<p>
        Show web server headers for the <tt>url</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>netcraft &lt;hostname|ip&gt;</tt>
</dt>
<dd>
<p>
        Ask netcraft what OS and web server it thinks the server is running.
</p>
</dd>
<dt class="hdlist1">
<tt>size &lt;url&gt;</tt>
</dt>
<dd>
<p>
        Show size of <tt>url</tt>, based on the <tt>Content-Length</tt> header sent by the web server.
</p>
</dd>
<dt class="hdlist1">
<tt>title &lt;url&gt;</tt>
</dt>
<dd>
<p>
        Show title for <tt>url</tt>. This can be done automatically for all URLs pasted on a channel; see the configuration variable <tt>plugins.Web.titleSnarfer</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>urlquote &lt;text&gt;</tt>
</dt>
<dd>
<p>
        Return <tt>text</tt> quoted into a URL. Eg. <tt>urlquote foo bar</tt> &#8594; <tt>foo%20bar</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>urlunquote &lt;text&gt;</tt>
</dt>
<dd>
<p>
        Likewise, but reverse.
</p>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
frame="hsides"
cellspacing="0" cellpadding="4">
<caption class="title">Tableplugins.Web</caption>
<col width="120" />
<col width="120" />
<col width="560" />
<thead>
  <tr>
    <th align="left">
    Key
    </th>
    <th align="left">
    Default
    </th>
    <th align="left">
    Description
    </th>
  </tr>
</thead>
<tbody valign="top">
  <tr>
    <td align="left">
    #nonSnarfingRegexp
    </td>
    <td align="left">
    </td>
    <td align="left">
    if set, URLs matching the pattern are not snarfed.
    </td>
  </tr>
  <tr>
    <td align="left">
    #titleSnarfer
    </td>
    <td align="left">
    false
    </td>
    <td align="left">
    Whether to fetch and show the title for pasted URLs.
    </td>
  </tr>
  <tr>
    <td align="left">
    fetch.maximum
    </td>
    <td align="left">
    0
    </td>
    <td align="left">
    Maximum bytes to fetch with the <tt>fetch</tt> command. If zero, <tt>fetch</tt> is disabled.
    </td>
  </tr>
</tbody>
</table>
</div>
<h3 id="_entertainment">5.3. Entertainment</h3><div style="clear:left"></div>
<h4 id="plugin_channelstats">5.3.1. ChannelStats</h4>
<div class="paragraph"><p><span style="color:green;">ChannelStats</span> provides channel/registered user statistics (statistics as in <em>large numbers</em>).</p></div>
<div class="paragraph"><p><tt>channelstats [channel]</tt>:
        Show statistics for <tt>channel</tt>: messages, characters, words, smileys, frowns, actions, joins, parts, quits, kicks, mode changes, and topic changes.</p></div>
<div class="paragraph"><p><tt>stats [channel] [user]</tt>:
        Show statistics for <tt>user</tt> on <tt>channel</tt>: messages, characters, words, smileys, frowns, actions, joins, parts, quits, kicks given/received, topic changes, and mode changes.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">This plugin may turn otherwise normal users into spammers. But it can also provide an incentive to register on the bot. :-)</td>
</tr></table>
</div>
<div class="tableblock">
<table rules="none"
frame="hsides"
cellspacing="0" cellpadding="4">
<caption class="title">Tableplugins.ChannelStats</caption>
<col width="120" />
<col width="120" />
<col width="560" />
<thead>
  <tr>
    <th align="left">
    Key
    </th>
    <th align="left">
    Default
    </th>
    <th align="left">
    Description
    </th>
  </tr>
</thead>
<tbody valign="top">
  <tr>
    <td align="left">
    #frowns
    </td>
    <td align="left">
    <tt>:| :-/ :-\ :\ :/ :( :-( :'(</tt>
    </td>
    <td align="left">
    Space-separated list of frowns.
    </td>
  </tr>
  <tr>
    <td align="left">
    #selfStats
    </td>
    <td align="left">
    <tt>True</tt>
    </td>
    <td align="left">
    Whether to include the bot in the statistics.
    </td>
  </tr>
  <tr>
    <td align="left">
    #smileys
    </td>
    <td align="left">
    <tt>:) ;) ;] :-) :-D :D :P :p (= =)</tt>
    </td>
    <td align="left">
    Space-separated list of smileys.
    </td>
  </tr>
</tbody>
</table>
</div>
<h4 id="plugin_games">5.3.2. Games</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>coin</tt>
</dt>
<dd>
<p>
        Heads or tails?
</p>
</dd>
<dt class="hdlist1">
<tt>dice &lt;dices&gt;d&lt;sides&gt;</tt>
</dt>
<dd>
<p>
        Roll <tt>dices</tt> dices, each having <tt>sides</tt> sides. Lists result for each dice separately. The sum will be between <tt>dices</tt> and <tt>dices</tt> x <tt>sides</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>eightball [question]</tt>
</dt>
<dd>
<p>
        Answers a question. But don&#8217;t expect the bot to pass
</p>
</dd>
<dt class="hdlist1">
<tt>monologue [channel]</tt>
</dt>
<dd>
<p>
        Check how long your monologue on the <tt>channel</tt> is, in case you are lose count. This is probably my favourite useless command.
</p>
</dd>
<dt class="hdlist1">
<tt>roulette ["spin"]</tt>
</dt>
<dd>
<p>
        Russian roulette. If <tt>spin</tt> is given, spins the chambers. This isn&#8217;t really necessary since it will be done automatically at the end of the round. Provides a different experience if the bot is opped.
</p>
</dd>
</dl></div>
<h4 id="plugin_nickometer">5.3.3. Nickometer</h4>
<div class="paragraph"><p><tt>nickometer [nick]</tt>:
        Give an objective evaluation on the lameness of <tt>nick</tt>, or your nick if not provided. This is similar to the same command in blootbot.</p></div>
<div class="listingblock">
<div class="title">output</div>
<div class="content">
<pre><tt>The "lame nick-o-meter" reading for "1eEteStWaReZL0rD[69X~" is 99.98%.</tt></pre>
</div></div>
<h4 id="plugin_quote">5.3.4. Quote</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>quote add [channel] &lt;text&gt;</tt>
</dt>
<dd>
<p>
        Add <tt>text</tt> as a quote for <tt>channel</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>quote change [channel] &lt;id&gt; &lt;regexp&gt;</tt>
</dt>
<dd>
<p>
        Change quote <tt>id</tt> on <tt>channel</tt> using <tt>regexp</tt>. For example, <tt>s/foo/bar/g</tt> changes all instances of <tt>foo</tt> to <tt>bar</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>quote get [channel] &lt;id&gt;</tt>
</dt>
<dd>
<p>
        Show quote # <tt>id</tt> for <tt>channel</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>quote random [channel]</tt>
</dt>
<dd>
<p>
        Show random quote from <tt>channel</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>quote remove [channel] &lt;id&gt;</tt>
</dt>
<dd>
<p>
        Remove quote # <tt>id</tt> from <tt>channel</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>quote search [channel] [--{regexp,by} value] [glob]</tt>
</dt>
<dd>
<p>
        Find quotes from <tt>channel</tt> matching regexp if provided, added by nick <tt>by</tt> if provided, and matching <tt>glob</tt> if provided. <tt>glob</tt> may contain wildcards (eg. <tt>foo*bar</tt>), while <tt>regexp</tt> is a regular expression (eg. <tt>/la.*laa/</tt>). Note that you can really provide both regexp and the glob - both must match in that case.
</p>
</dd>
<dt class="hdlist1">
<tt>quote stats [channel]</tt>
</dt>
<dd>
<p>
        Show how many quotes there are.
</p>
</dd>
</dl></div>
<h4 id="plugin_quotegrabs">5.3.5. QuoteGrabs</h4>
<div class="paragraph"><p>This plugin allows users to <em>grab</em> the most recent line of another nick as a quote.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>quotegrabs get [channel] &lt;id&gt;</tt>
</dt>
<dd>
<p>
        Show quote # <tt>id</tt> .
</p>
</dd>
<dt class="hdlist1">
<tt>quotegrabs grab [channel] &lt;nick&gt;</tt>
</dt>
<dd>
<p>
        Save last line from <tt>nick</tt> as a quote.
</p>
</dd>
<dt class="hdlist1">
<tt>quotegrabs list [channel] &lt;nick&gt;</tt>
</dt>
<dd>
<p>
        List quotes for <tt>nick</tt>, newest first. This does not display full quotes, but part of each, along with the id.
</p>
</dd>
<dt class="hdlist1">
<tt>quotegrabs quote [channel] &lt;nick&gt;</tt>
</dt>
<dd>
<p>
        Show last quote of <tt>nick</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>quotegrabs random [channel] [nick]</tt>
</dt>
<dd>
<p>
        Random quote from any nick, or <tt>nick</tt> if provided.
</p>
</dd>
<dt class="hdlist1">
<tt>quotegrabs search [channel] &lt;text&gt;</tt>
</dt>
<dd>
<p>
        Show quotes containing <tt>text</tt>. Unfortunately, this does not list the nick or allow searching only given nick&#8217;s quotes. Id and quote content will be shown.
</p>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
frame="hsides"
cellspacing="0" cellpadding="4">
<caption class="title">Tableplugins.QuoteGrabs</caption>
<col width="120" />
<col width="120" />
<col width="560" />
<thead>
  <tr>
    <th align="left">
    Key
    </th>
    <th align="left">
    Default
    </th>
    <th align="left">
    Description
    </th>
  </tr>
</thead>
<tbody valign="top">
  <tr>
    <td align="left">
    #randomGrabber
    </td>
    <td align="left">
    False
    </td>
    <td align="left">
    Whether to grab random lines as quotes.
    </td>
  </tr>
  <tr>
    <td align="left">
    #randomGrabber.averageTimeBetweenGrabs
    </td>
    <td align="left">
    864000
    </td>
    <td align="left">
    Average number of seconds to wait between random grabs. When half of this has passed a random grab may occur.
    </td>
  </tr>
  <tr>
    <td align="left">
    randomGrabber.minimumCharacters
    </td>
    <td align="left">
    8
    </td>
    <td align="left">
    Minimum characters needed to consider a line eligible for random grab.
    </td>
  </tr>
  <tr>
    <td align="left">
    randomGrabber.minimumWords
    </td>
    <td align="left">
    3
    </td>
    <td align="left">
    Ditto, but for words.
    </td>
  </tr>
</tbody>
</table>
</div>
<h3 id="_third_party_plugins">5.4. Third-party plugins</h3><div style="clear:left"></div>
<div class="paragraph"><p>This section lists some useful third-party plugins. See <a href="#installing_plugins">Installing additional plugins</a> for how to install third-party plugins. If you feel something is missing from this session, please e-mail the author.</p></div>
<h4 id="plugin_meetbot">5.4.1. MeetBot</h4>
<div class="paragraph"><p>MeetBot assists in running meetings and taking notes. One can start meetings, set meeting topics, document agreement, add info/action/idea/help/link items to the meeting minutes etc. When the meeting is ended, a summary webpage is generated and the link to summary and full logs pasted to the channel.</p></div>
<div class="paragraph"><p>Visit <a href="http://wiki.debian.org/MeetBot">MeetBot wiki page</a> and <a href="https://altinukshini.wordpress.com/2011/09/10/how-to-setup-meetbot/">a tutorial</a> for more information.</p></div>
<div class="paragraph"><p>The installation and configuration is not quite straight-forward. After getting the files, I recommend doing the following:</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>config plugins.meetbot.enableSupybotBasedConfig True
reload MeetBot
config list plugins.meetbot
config plugins.meetbot.logFileDir /home/supybot/public_html/meetings/
config plugins.meetbot.logUrlPrefix http://hostname/~supybot/meetings/</tt></pre>
</div></div>
<div class="paragraph"><p>See MeetBot/ircmeeting/meeting.py for the configuration items and their documentation.</p></div>
<h4 id="plugin_messageparser">5.4.2. MessageParser</h4>
<div class="listingblock">
<div class="content">
<pre><tt>&lt;user&gt; your question is covered in the ,,supybook
&lt;supybot&gt; Follow this link to the supybook, a supybot handbook: http://supybook.fealdia.org/

&lt;user&gt; I'd like a ,,(factoids search *) please
&lt;supybot&gt; 'conditional', 'ggc', 'ggr', 'git', 'gitrepo', 'gribblegitcontent', 'gribblegitrepo'</tt></pre>
</div></div>
<div class="paragraph"><p>MessageParser allows adding regular expression triggers that can match any line. Multiple triggers can match a single line, and the same trigger can match several times. This plugin is a very useful addition for support channels.</p></div>
<div class="paragraph"><p>Visit the <a href="http://sourceforge.net/apps/mediawiki/gribble/index.php?title=MessageParser_Plugin">MessageParser wiki</a> for more information.</p></div>
<h4 id="plugin_twitter">5.4.3. Twitter</h4>
<div class="paragraph"><p>Robert Bergermann has written a <a href="https://github.com/rbbremen/Twitter4Supybot">Twitter plugin</a> for Supybot. See <a href="https://github.com/rbbremen/Twitter4Supybot/tree/master/Twitter#readme">the readme</a> for more information.</p></div>
<h4 id="plugin_weather">5.4.4. Weather</h4>
<div class="paragraph"><p>James McCoy has written a <a href="https://github.com/jamessan/Supybot-Weather">Weather plugin</a>.</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>&lt;user&gt; weather berlin, germany
&lt;supybot&gt; The current temperature in Prenzlauer Berg, Berlin, Germany is -7.1°C (6:13 PM CET on February 01, 2012). Conditions: Clear. Humidity: 25%. Dew Point: -24.0°C. Windchill: -12.0°C. Pressure: 30.66 in 1038.1 hPa (Rising).</tt></pre>
</div></div>
</div>
<h2 id="_caveats">6. Caveats</h2>
<div class="sectionbody">
<div class="paragraph"><p>This is a list of issues I have not yet figured out how to do, or there simply isn&#8217;t a way.</p></div>
<div class="ulist"><ul>
<li>
<p>
How to enforce channel modes (eg. force +ns-t for example)
</p>
</li>
<li>
<p>
How to delete config items
</p>
</li>
<li>
<p>
How to delete channels / networks
</p>
</li>
<li>
<p>
Ban add does not seem to work on Freenode
</p>
</li>
<li>
<p>
No global ban list
</p>
</li>
<li>
<p>
No way to delete a network
</p>
</li>
<li>
<p>
Incomplete multi-network support
</p>
<div class="ulist"><ul>
<li>
<p>
Capabilities are not network/channel -specific, but channel-specific. If channel by same name exists in two networks, the users have same capabilities on both
</p>
</li>
<li>
<p>
No way to add network-specific hostmasks
</p>
</li>
<li>
<p>
Not possible for the bot to have different nick in different networks
</p>
</li>
</ul></div>
</li>
<li>
<p>
There is no command to reboot the bot; it must be done from the shell
</p>
</li>
<li>
<p>
Capabilities/anticapabilities for commands with spaces in them are not supported
</p>
</li>
</ul></div>
</div>
<h2 id="_tips">7. Tips</h2>
<div class="sectionbody">
<h3 id="_how_to_emulate_blootbot_cmds_using_moobotfactoids">7.1. How to emulate blootbot CMDs using MoobotFactoids</h3><div style="clear:left"></div>
<div class="paragraph"><p><span style="background-color:yellow;">Thanks to Tobias "beardy" Rosenqvist for the tip!</span></p></div>
<div class="paragraph"><p>We try to make a command factoid, like we are used to with blootbot:</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>&lt;user&gt; cmdtest is &lt;action&gt; gives $1 "(an apple|a pear)"
&lt;bot&gt; Ok.</tt></pre>
</div></div>
<div class="paragraph"><p>Then we test it:</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>&lt;user&gt; cmdtest someone</tt></pre>
</div></div>
<div class="paragraph"><p>But it doesn&#8217;t work.
However, the factoid works:</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>&lt;user&gt; cmdtest
  * bot gives $1 an apple</tt></pre>
</div></div>
<div class="paragraph"><p>The Moobotfactoids plugin in supybot doesn&#8217;t handle arguments, (yet)
unfortunately, so you need to do it another way.
Use the Moobotfactoids to do the random part(s):</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>&lt;user&gt; fruits is &lt;reply&gt; "(an apple|an orange|a banana|a pear)"
&lt;bot&gt; Ok.</tt></pre>
</div></div>
<div class="paragraph"><p>Then use an alias to do the command, with arguments (the "action" command
is found in the Reply plugin), here you also see a use of a nested command:</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>&lt;user&gt; alias add givefruit action gives "[fruits]" to $1
&lt;bot&gt; Ok.
&lt;user&gt; givefruit someone
 * bot gives a pear to someone</tt></pre>
</div></div>
<h3 id="_tidier_bot_replies">7.2. Tidier bot replies</h3><div style="clear:left"></div>
<div class="paragraph"><p>I don&#8217;t personally like the default Supybot replies: I hate the nick prefix and the way too verbose <em>The operation succeeded.</em>.</p></div>
<div class="paragraph"><p>Fortunately there are plenty of settings to configure how Supybot replies. These can be listed with <tt>config reply</tt> and <tt>config replies</tt>.</p></div>
<div class="paragraph"><p>The <tt>reply</tt> items determine how Supybot acts, and <tt>replies</tt> contains some messages it uses. I prefer:</p></div>
<div class="paragraph"><p><tt>config reply.withNickPrefix False</tt></p></div>
<div class="paragraph"><p><tt>config replies.success OK</tt></p></div>
<div class="paragraph"><p><tt>config reply.error.inPrivate True</tt>.</p></div>
<h3 id="_more_on_nested_commands">7.3. More on nested commands</h3><div style="clear:left"></div>
<div class="paragraph"><p><span style="background-color:yellow;">Thanks to Tobias "beardy" Rosenqvist for the tip!</span></p></div>
<div class="paragraph"><p>For those familliar with unix shells, (bash in particular), nested commands can be compared to doing command substitution, as in <tt>$(command)</tt>.</p></div>
<div class="paragraph"><p>Nested commands are by default enclosed by square brackets (<tt>[]</tt>). The <tt>commands.nested.brackets</tt> configuration variable can be used to set these to <tt>&lt;&gt;</tt>, <tt>{}</tt>, or <tt>()</tt>.</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>&lt;user&gt; echo The title of the Supybot website is: [web title http://www.supybot.com/]
&lt;bot&gt; The title of the Supybot website is: Welcome to Supybot.com! Supybot Website</tt></pre>
</div></div>
<div class="paragraph"><p>Another way nested commands can work, is like a pipe, if the configuration variable <tt>commands.nested.pipeSyntax</tt> is set to <tt>True</tt>.</p></div>
<div class="paragraph"><p>Same example as above, but using the pipeSyntax:</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>&lt;user&gt; web title http://www.supybot.com/ | echo The title of the Supybot website is:
&lt;bot&gt; The title of the Supybot website is: Welcome to Supybot.com! Supybot Website</tt></pre>
</div></div>
</div>
<h2 id="_reference">8. Reference</h2>
<div class="sectionbody">
<h3 id="_configuration_2">8.1. Configuration</h3><div style="clear:left"></div>
<h4 id="config_reply">8.1.1. reply</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>#inPrivate</strong>
</dt>
<dd>
<p>
Whether to reply in private to commands given on channel.
</p>
</dd>
<dt class="hdlist1">
<strong>#requireChannelCommandsToBeSentInChannel</strong>
</dt>
<dd>
<p>
-
</p>
</dd>
<dt class="hdlist1">
<strong>#showSimpleSyntax</strong>
</dt>
<dd>
<p>
Whether to be extra helpful when a user fails syntax of a command.
</p>
</dd>
<dt class="hdlist1">
<strong>#whenNotAddressed</strong>
</dt>
<dd>
<p>
Assume everyone wants to talk to the bot, eg. treat all messages as if addressed to the bot. This does not imply <tt>reply.WhenNotCommand False</tt> which you should set as well.
</p>
</dd>
<dt class="hdlist1">
<strong>#whenNotCommand</strong>
</dt>
<dd>
<p>
Whether to reply when addressed with an invalid command.
</p>
</dd>
<dt class="hdlist1">
<strong>#withNickPrefix</strong>
</dt>
<dd>
<p>
Whether to prefix the reply with the nick of the user who gave the command.
</p>
</dd>
<dt class="hdlist1">
<strong>#withNotice</strong>
</dt>
<dd>
<p>
Whether to use notices instead of regular messages.
</p>
</dd>
<dt class="hdlist1">
<strong>#mores.instant</strong>
</dt>
<dd>
<p>
How many messages to send initially before prompting for <tt>more</tt>. Default is 1.
</p>
</dd>
<dt class="hdlist1">
<strong>#mores.length</strong>
</dt>
<dd>
<p>
How long messages can be. Default is 0, which uses rocket science to determine the maximum number of characters that can be fit into a message without it collapsing into a black hole.
</p>
</dd>
<dt class="hdlist1">
<strong>#mores.maximum</strong>
</dt>
<dd>
<p>
Maximum number of messages to queue, default is 50.
</p>
</dd>
<dt class="hdlist1">
<strong>#error.inPrivate</strong>
</dt>
<dd>
<p>
Whether to send errors in private instead of replying on channel.
</p>
</dd>
<dt class="hdlist1">
<strong>#error.noCapability</strong>
</dt>
<dd>
<p>
If True, don&#8217;t tell users why they can not run a command because of missing capabilities.
</p>
</dd>
<dt class="hdlist1">
<strong>#error.withNotice</strong>
</dt>
<dd>
<p>
Whether to send errors as notices instead of regular messages.
</p>
</dd>
<dt class="hdlist1">
<strong>error.detailed</strong>
</dt>
<dd>
<p>
Whether to show an exception or a generic error when something breaks. Mostly useful for developers.
</p>
</dd>
<dt class="hdlist1">
<strong>#format.time</strong>
</dt>
<dd>
<p>
Format string for timestamps (<tt>%I:%M %p, %B %d, %Y</tt>, eg. <em>08:41 PM, September 11, 2008</em>).
</p>
</dd>
<dt class="hdlist1">
<strong>#whenAddressedBy.chars</strong>
</dt>
<dd>
<p>
List of characters the bot will recognize as addressing (when a command is prefixed with one of them), besides the nick of the bot.
</p>
</dd>
<dt class="hdlist1">
<strong>#whenAddressedBy.nicks</strong>
</dt>
<dd>
<p>
List of extra nicks to consider as addressing the bot, despite the current nick.
</p>
</dd>
<dt class="hdlist1">
<strong>#whenAddressedBy.strings</strong>
</dt>
<dd>
<p>
Like the chars key, except a space-separated list of strings to accept as command prefix. This allows multicharacter command prefixes.
</p>
</dd>
<dt class="hdlist1">
<strong>#whenAddressedBy.nick.atEnd</strong>
</dt>
<dd>
<p>
Whether to consider messages that end in the bot&#8217;s nick to be addressed to the bot.
</p>
</dd>
<dt class="hdlist1">
<strong>maximumLength</strong>
</dt>
<dd>
<p>
Maximum length of a reply message from the bot. This does not mean the length of a single message (prompting for <tt>more</tt>), but the whole message.
</p>
</dd>
<dt class="hdlist1">
<strong>oneToOne</strong>
</dt>
<dd>
<p>
Whether to send replies consisting of multiple messages in a single message.
</p>
</dd>
<dt class="hdlist1">
<strong>withNoticeWhenPrivate</strong>
</dt>
<dd>
<p>
Whether to use notices instead of private messages.
</p>
</dd>
</dl></div>
<h3 id="_directory_tree">8.2. Directory tree</h3><div style="clear:left"></div>
<div class="paragraph"><p>This section contains list of the directories and files supybot uses, and what they are for.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">If you modify the configuration files by hand when the bot is running, you need to run <tt>config reload</tt>.</td>
</tr></table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<tt>backup/</tt>
</dt>
<dd>
<p>
        For backups of config files.
</p>
</dd>
<dt class="hdlist1">
<tt>conf/</tt>
</dt>
<dd>
<p>
        Configuration files: {channels,ignores,userdata,users}.conf
</p>
</dd>
<dt class="hdlist1">
<tt>data/</tt>
</dt>
<dd>
<p>
        Plugin databases.
</p>
</dd>
<dt class="hdlist1">
<tt>data/#channel/</tt>
</dt>
<dd>
<p>
        Channel-specific plugin databases.
</p>
</dd>
<dt class="hdlist1">
<tt>data/tmp/</tt>
</dt>
<dd>
<p>
        Temporary plugin data files (eg. database journals).
</p>
</dd>
<dt class="hdlist1">
<tt>logs/</tt>
</dt>
<dd>
<p>
        Logs.
</p>
</dd>
<dt class="hdlist1">
<tt>logs/ChannelLogger/</tt>
</dt>
<dd>
<p>
        ChannelLogger logs. The structure depends on the config variables.
</p>
</dd>
<dt class="hdlist1">
<tt>logs/messages.log</tt>
</dt>
<dd>
<p>
        The main logfile.
</p>
</dd>
<dt class="hdlist1">
<tt>plugins/</tt>
</dt>
<dd>
<p>
        Local plugin directory. This is by default listed in <tt>config directories.plugins</tt>.
</p>
</dd>
<dt class="hdlist1">
<tt>&lt;bot&gt;.conf</tt>
</dt>
<dd>
<p>
        The main configuration file of the bot.
</p>
</dd>
<dt class="hdlist1">
<tt>tmp/</tt>
</dt>
<dd>
<p>
        Temporary files.
</p>
</dd>
</dl></div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Version v0.0.4-9-g3fac5ac+dirty<br />
Last updated 2012-11-17 08:41:10 EEST
</div>
</div>
</body>
</html>
